define ("local_workflow/dialogs",["jquery","jqueryui","local_workflow/jquery.loadingModal"],function(a){function b(){a("#wf_dialog_createparcoursfromgabarit").dialog({autoOpen:!1,width:600,height:250,title:"Cr\xE9er un parcours de formation",draggable:"false",modal:!0,resizable:!1,closeOnEscape:!1,closeText:"Fermer",buttons:[{text:"Cr\xE9er ",id:"btCreerCours",click:function click(){if(""==a("#wf_dialog_createparcoursfromgabarit input[name=\"new_course_name\"]").val()){alert("Le nom est obligatoire")}else if(""==a("#wf_dialog_createparcoursfromgabarit input[name=\"new_course_shortname\"]").val()){alert("Le nom abr\xE9g\xE9 est obligatoire")}else{b()}}},{text:"Annuler",id:"btAnnuler",click:function click(){a(this).dialog("close")}}]});function b(){a("#wf_createparcoursfromgabarit_form").submit()}a("#wf_link_createparcoursfromgabarit").click(function(b){b.preventDefault();c("#wf_link_createparcoursfromgabarit");a("#wf_dialog_createparcoursfromgabarit").show();a("#wf_dialog_createparcoursfromgabarit").dialog("open")});a("#wf_dialog_createsessionfromparcours").dialog({autoOpen:!1,width:600,height:470,title:"Cr\xE9er une session de formation",draggable:"false",modal:!0,resizable:!1,closeOnEscape:!1,closeText:"Fermer",buttons:[{text:"Cr\xE9er ",id:"btCreerCours",click:function click(){if(""==a("#wf_dialog_createsessionfromparcours input[name=\"new_course_name\"]").val()){alert("Le nom est obligatoire")}else if(""==a("#wf_dialog_createsessionfromparcours input[name=\"new_course_shortname\"]").val()){alert("Le nom abr\xE9g\xE9 est obligatoire")}else{d()}}},{text:"Annuler",id:"btAnnuler",click:function click(){a(this).dialog("close")}}]});function d(){a("#wf_createsessionfromWFParcoursForm").submit()}a("#wf_link_createsessionfromparcours").click(function(b){b.preventDefault();a("#wf_dialog_createsessionfromparcours").show();a("input[name=\"datepicker_session\"]").show();a("#wf_dialog_createsessionfromparcours").dialog("option","height","auto");a("#wf_dialog_createsessionfromparcours").dialog("open")});a("#wf_dialog_recreatesessionfromparcours").dialog({autoOpen:!1,width:600,height:470,title:"Cr\xE9er une nouvelle session de formation",draggable:"false",modal:!0,resizable:!1,closeOnEscape:!1,closeText:"Fermer",buttons:[{text:"Cr\xE9er ",id:"btCreerCours",click:function click(){if(""==a("#wf_dialog_recreatesessionfromparcours input[name=\"new_course_name\"]").val()){alert("Le nom est obligatoire")}else if(""==a("#wf_dialog_recreatesessionfromparcours input[name=\"new_course_shortname\"]").val()){alert("Le nom abr\xE9g\xE9 est obligatoire")}else{e()}}},{text:"Annuler",id:"btAnnuler",click:function click(){a(this).dialog("close")}}]});function e(){a("#wf_recreatesessionfromWFParcoursForm").submit()}a("#wf_link_recreatesessionfromparcours").click(function(b){b.preventDefault();a("#wf_dialog_recreatesessionfromparcours").show();a("input[name=\"datepicker_session\"]").show();a("#wf_dialog_recreatesessionfromparcours").dialog("open")});a("#wf_dialog_archive").dialog({autoOpen:!1,width:600,title:"Archivage de la session de formation",draggable:"false",modal:!0,resizable:!1,closeOnEscape:!1,closeText:"Fermer",buttons:[{text:"Archiver",id:"btCreerCours",click:function click(){a("#wf_archive_form").submit()}},{text:"Annuler",id:"btAnnuler",click:function click(){a(this).dialog("close")}}]});a("#wf_link_archive").click(function(b){b.preventDefault();c("#wf_link_archive");a("#wf_dialog_archive").show();a("#wf_dialog_archive").dialog("open")});a("#wf_dialog_duplicate").dialog({autoOpen:!1,width:600,title:"Duplication dans la m\xEAme cat\xE9gorie",draggable:"false",modal:!0,resizable:!1,closeOnEscape:!1,closeText:"Fermer",buttons:[{text:"Cr\xE9ation du cours",id:"btCreerCours",click:function click(){if(""==a("#wf_dialog_duplicate input[name=\"new_course_name\"]").val()){alert("Le nom est obligatoire")}else if(""==a("#wf_dialog_duplicate input[name=\"new_course_shortname\"]").val()){alert("Le nom abr\xE9g\xE9 est obligatoire")}else{f()}}},{text:"Annuler",id:"btAnnuler",click:function click(){a(this).dialog("close")}}]});function f(){a("#wf_duplicate_form").submit()}a("#wf_link_duplicate").click(function(b){b.preventDefault();c("#wf_link_duplicate");a("#wf_dialog_duplicate").show();a("#wf_dialog_duplicate").dialog("open")});a("#wf_dialog_unarchive").dialog({autoOpen:!1,width:600,title:"R\xE9ouverture ",draggable:"false",modal:!0,resizable:!1,closeOnEscape:!1,closeText:"Fermer",buttons:[{text:"Rouvrir",id:"btCreerCours",click:function click(){a("#wf_unarchive_form").submit()}},{text:"Annuler",id:"btAnnuler",click:function click(){a(this).dialog("close")}}]});a("#wf_link_unarchive").click(function(b){b.preventDefault();c("#wf_link_unarchive");a("#wf_dialog_unarchive").show();a("#wf_dialog_unarchive").dialog("open")});a("#wf_dialog_discard").dialog({autoOpen:!1,width:400,title:"Mettre \xE0 la corbeille",draggable:"false",modal:!0,resizable:!1,closeOnEscape:!1,closeText:"Fermer",buttons:[{text:"Oui",id:"btDiscard",click:function click(){a("#wf_discard_form").submit()}},{text:"Annuler",id:"btCancel",click:function click(){a(this).dialog("close")}}]});a("#wf_link_discard").click(function(b){b.preventDefault();c("#wf_link_discard");a("#wf_dialog_discard").show();a("#wf_dialog_discard").dialog("open")});a("#wf_dialog_open_session").dialog({autoOpen:!1,width:400,title:"Ouvrir la session",draggable:"false",modal:!0,resizable:!1,closeOnEscape:!1,closeText:"Fermer",buttons:[{text:"Oui",id:"btOpenSession",click:function click(){a("#wf_open_session_form").submit()}},{text:"Annuler",id:"btCancel",click:function click(){a(this).dialog("close")}}]});a("#wf_link_open_session").click(function(b){b.preventDefault();c("#wf_link_open_session");a("#wf_dialog_open_session").show();a("#wf_dialog_open_session").dialog("open")});a("#wf_dialog_open_auto_inscription").dialog({autoOpen:!1,width:400,title:"Ouvrir la session en auto-inscription",draggable:"false",modal:!0,resizable:!1,closeOnEscape:!1,closeText:"Fermer",buttons:[{text:"Oui",id:"btOpenSession",click:function click(){a("#wf_open_auto_inscription_form").submit()}},{text:"Annuler",id:"btCancel",click:function click(){a(this).dialog("close")}}]});a("#wf_link_open_auto_inscription").click(function(b){b.preventDefault();c("#wf_link_open_auto_inscription");a("#wf_dialog_open_auto_inscription").show();a("#wf_dialog_open_auto_inscription").dialog("open")});a("#wf_dialog_restorefromtrash").dialog({autoOpen:!1,width:600,title:"Restauration du parcours",draggable:"false",modal:!0,resizable:!1,closeOnEscape:!1,closeText:"Fermer",buttons:[{text:"Restaurer",id:"btDiscard",click:function click(){a("#wf_restorefromtrash_form").submit()}},{text:"Annuler",id:"btCancel",click:function click(){a(this).dialog("close")}}]});a("#wf_link_restorefromtrash").click(function(b){b.preventDefault();c("#wf_link_restorefromtrash");a("#wf_dialog_restorefromtrash").show();a("#wf_dialog_restorefromtrash").dialog("open")});a("#wf_dialog_publish").dialog({autoOpen:!1,width:400,title:"Publier/Mettre \xE0 jour dans l'offre",draggable:"false",modal:!0,resizable:!1,closeOnEscape:!1,closeText:"Fermer",buttons:[{text:"Oui",id:"btPublish",click:function click(b){b.preventDefault();a(this).dialog("close");a("body").loadingModal({position:"auto",text:"Publication/Mise \xE0 jour du parcours en cours",color:"#fff",opacity:"0.7",backgroundColor:"rgb(0,0,0)",animation:"circle"});a.post(a("#wf_publish_form").attr("action"),a("#wf_publish_form").serialize(),function(b){if("false"==b.error){a("body").loadingModal("animation","doubleBounce");a("body").loadingModal("text","Le parcours a \xE9t\xE9 publi\xE9/mis \xE0 jour<br/><input type='button' id='close' value='Continuer' onclick='window.location.reload()'>")}else{a("body").loadingModal("animation","doubleBounce");a("body").loadingModal("text","La publication/mise \xE0 jour du parcours a \xE9chou\xE9e<br/><input type='button' id='close' value='Continuer' onclick='window.location.reload()'>")}},"json")}},{text:"Annuler",id:"btCancel",click:function click(){a(this).dialog("close")}}]});a("#wf_link_publish").click(function(b){b.preventDefault();c("#wf_link_publish");a("#wf_dialog_publish").show();a("#wf_dialog_publish").dialog("open")});a("#wf_dialog_unshare").dialog({autoOpen:!1,width:400,title:"D\xE9publier de l'offre de parcours \xE0 d\xE9ployer",draggable:"false",modal:!0,resizable:!1,closeOnEscape:!1,closeText:"Fermer",buttons:[{text:"Oui",id:"btUnshare",click:function click(){a("#wf_unshare_form").submit()}},{text:"Annuler",id:"btCancel",click:function click(){a(this).dialog("close")}}]});a("#wf_link_unshare").click(function(b){b.preventDefault();c("#wf_link_unshare");a("#wf_dialog_unshare").show();a("#wf_dialog_unshare").dialog("open")});a("#wf_dialog_unpublish").dialog({autoOpen:!1,width:400,title:"D\xE9publier de l'offre de formation en libre acc\xE8s",draggable:"false",modal:!0,resizable:!1,closeOnEscape:!1,closeText:"Fermer",buttons:[{text:"Oui",id:"btUnpublish",click:function click(){a("#wf_unpublish_form").submit()}},{text:"Annuler",id:"btCancel",click:function click(){a(this).dialog("close")}}]});a("#wf_link_unpublish").click(function(b){b.preventDefault();c("#wf_link_unpublish");a("#wf_dialog_unpublish").show();a("#wf_dialog_unpublish").dialog("open")})}function c(b){a("input").each(function(){if(a(this).is("input[name=\"new_course_name\"]")){a(this).val("")}else if(a(this).is("input[name=\"new_course_shortname\"]")){a(this).val("")}else if(a(this).is("input[name=\"datepicker_session\"]")){a(this).val("")}});a(b+" select[name*=\"new_category_course\"]").val(a(b+" select[name=\"new_category_course\"] option").first().val())}return{init:function init(){b()}}});
//# sourceMappingURL=dialogs.min.js.map
